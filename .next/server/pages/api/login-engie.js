"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/login-engie";
exports.ids = ["pages/api/login-engie"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flogin-engie&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Flogin-engie.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flogin-engie&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Flogin-engie.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_login_engie_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/login-engie.js */ \"(api-node)/./pages/api/login-engie.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_login_engie_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_login_engie_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/login-engie\",\n        pathname: \"/api/login-engie\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_login_engie_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGbG9naW4tZW5naWUmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRmxvZ2luLWVuZ2llLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQ3VEO0FBQ3ZEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxzREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsc0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvbG9naW4tZW5naWUuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2xvZ2luLWVuZ2llXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbG9naW4tZW5naWVcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flogin-engie&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Flogin-engie.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/login-engie.js":
/*!**********************************!*\
  !*** ./pages/api/login-engie.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\nconst fetch = (...args)=>Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! node-fetch */ \"node-fetch\")).then(({ default: fetch })=>fetch(...args));\nasync function handler(req, res) {\n    res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    res.setHeader(\"Access-Control-Allow-Methods\", \"POST, OPTIONS\");\n    res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type\");\n    if (req.method === \"OPTIONS\") return res.status(200).end();\n    if (req.method !== \"POST\") return res.status(405).json({\n        error: \"Method Not Allowed\"\n    });\n    const { username, password, captchaToken, placeOfConsumption } = req.body;\n    if (!username || !password || !captchaToken || !placeOfConsumption) {\n        return res.status(400).json({\n            error: \"Missing credentials, captchaToken, or place of consumption\"\n        });\n    }\n    try {\n        const form = new URLSearchParams();\n        form.append(\"username\", username);\n        form.append(\"password\", password);\n        form.append(\"g-recaptcha-response\", captchaToken);\n        const loginRes = await fetch(\"https://gwss.engie.ro/myservices/v1/login\", {\n            method: \"POST\",\n            headers: {\n                \"source\": \"desktop\",\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            body: form\n        });\n        const loginData = await loginRes.json();\n        console.log('Login response:', loginData);\n        if (!loginRes.ok || loginData.error) {\n            return res.status(401).json({\n                error: \"Login failed\",\n                details: loginData,\n                status: loginRes.status\n            });\n        }\n        const token = loginData.data?.token;\n        if (!token) {\n            return res.status(400).json({\n                error: \"No token in login response\",\n                details: loginData\n            });\n        }\n        // Get contracts to find POC number for the given alias\n        const contractsRes = await fetch(\"https://gwss.engie.ro/myservices/v1/contracts\", {\n            method: \"GET\",\n            headers: {\n                \"Authorization\": `Bearer ${token}`,\n                \"source\": \"desktop\",\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json\",\n                \"Origin\": \"https://my.engie.ro\",\n                \"Referer\": \"https://my.engie.ro/\"\n            },\n            redirect: 'follow'\n        });\n        const contractsData = await contractsRes.json();\n        console.log('Contracts response:', contractsData);\n        if (!contractsRes.ok || contractsData.error) {\n            return res.status(contractsRes.status || 500).json({\n                error: \"Failed to fetch contracts\",\n                details: contractsData,\n                status: contractsRes.status\n            });\n        }\n        // Find the contract with matching alias\n        const contract = contractsData.data?.find((c)=>c.alias === placeOfConsumption);\n        if (!contract) {\n            return res.status(400).json({\n                error: \"Place of consumption not found\",\n                details: `No contract found with alias: ${placeOfConsumption}`\n            });\n        }\n        const pa = contract.pa;\n        const poc = contract.poc_number;\n        if (!pa || !poc) {\n            return res.status(400).json({\n                error: \"Missing required data from contract\",\n                data: {\n                    hasPa: !!pa,\n                    hasPoc: !!poc\n                },\n                details: contract\n            });\n        }\n        // Calculate date range: last 12 months\n        const endDate = new Date();\n        const startDate = new Date();\n        startDate.setFullYear(startDate.getFullYear() - 1);\n        const invoiceRes = await fetch(`https://gwss.engie.ro/myservices/v1/invoices/history-only/${poc}?startDate=${startDate.toISOString().split('T')[0]}&endDate=${endDate.toISOString().split('T')[0]}&pa=${pa}`, {\n            method: \"GET\",\n            headers: {\n                \"Authorization\": `Bearer ${token}`,\n                \"source\": \"desktop\",\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json\",\n                \"Origin\": \"https://my.engie.ro\",\n                \"Referer\": \"https://my.engie.ro/\"\n            },\n            redirect: 'follow'\n        });\n        const invoiceData = await invoiceRes.json();\n        console.log('Invoice response:', invoiceData);\n        if (!invoiceRes.ok || invoiceData.error) {\n            return res.status(invoiceRes.status || 500).json({\n                error: \"Failed to fetch invoices\",\n                details: invoiceData,\n                status: invoiceRes.status\n            });\n        }\n        // Pass through the invoice data and token\n        const formattedData = [\n            {\n                invoices: invoiceData.data || [],\n                token: token // Include the token from login\n            }\n        ];\n        console.log('Sending invoice data and token:', formattedData);\n        res.status(200).json({\n            error: false,\n            data: formattedData\n        });\n    } catch (e) {\n        console.error('API Error:', e);\n        console.error('Error stack:', e.stack);\n        console.error('Error details:', {\n            name: e.name,\n            message: e.message,\n            code: e.code,\n            response: e.response\n        });\n        res.status(500).json({\n            error: \"Unexpected error\",\n            message: e.message,\n            details: e.stack\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNLElBQUksS0FBS0UsSUFBSSxDQUFDO2dCQUMvQ0MsT0FBTztnQkFDUGUsU0FBU3VCO2dCQUNUekMsUUFBUXNDLFdBQVd0QyxNQUFNO1lBQzNCO1FBQ0Y7UUFFQSwwQ0FBMEM7UUFDMUMsTUFBTTBDLGdCQUFnQjtZQUFDO2dCQUNyQkMsVUFBVUYsWUFBWXJCLElBQUksSUFBSSxFQUFFO2dCQUNoQ0QsT0FBT0EsTUFBTSwrQkFBK0I7WUFDOUM7U0FBRTtRQUNGSixRQUFRQyxHQUFHLENBQUMsbUNBQW1DMEI7UUFDL0M3QyxJQUFJRyxNQUFNLENBQUMsS0FBS0UsSUFBSSxDQUFDO1lBQUVDLE9BQU87WUFBT2lCLE1BQU1zQjtRQUFjO0lBQzNELEVBQUUsT0FBT0UsR0FBRztRQUNWN0IsUUFBUVosS0FBSyxDQUFDLGNBQWN5QztRQUM1QjdCLFFBQVFaLEtBQUssQ0FBQyxnQkFBZ0J5QyxFQUFFQyxLQUFLO1FBQ3JDOUIsUUFBUVosS0FBSyxDQUFDLGtCQUFrQjtZQUM5QjJDLE1BQU1GLEVBQUVFLElBQUk7WUFDWkMsU0FBU0gsRUFBRUcsT0FBTztZQUNsQkMsTUFBTUosRUFBRUksSUFBSTtZQUNaQyxVQUFVTCxFQUFFSyxRQUFRO1FBQ3RCO1FBQ0FwRCxJQUFJRyxNQUFNLENBQUMsS0FBS0UsSUFBSSxDQUFDO1lBQ25CQyxPQUFPO1lBQ1A0QyxTQUFTSCxFQUFFRyxPQUFPO1lBQ2xCN0IsU0FBUzBCLEVBQUVDLEtBQUs7UUFDbEI7SUFDRjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvaWxpbmNhb2JhZGVzY3UvRG93bmxvYWRzL2VuZ2llLWxvZ2luLXZlcmNlbC9wYWdlcy9hcGkvbG9naW4tZW5naWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZmV0Y2ggPSAoLi4uYXJncykgPT4gaW1wb3J0KCdub2RlLWZldGNoJykudGhlbigoe2RlZmF1bHQ6IGZldGNofSkgPT4gZmV0Y2goLi4uYXJncykpO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgXCIqXCIpO1xuICByZXMuc2V0SGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kc1wiLCBcIlBPU1QsIE9QVElPTlNcIik7XG4gIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzXCIsIFwiQ29udGVudC1UeXBlXCIpO1xuXG4gIGlmIChyZXEubWV0aG9kID09PSBcIk9QVElPTlNcIikgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5lbmQoKTtcbiAgaWYgKHJlcS5tZXRob2QgIT09IFwiUE9TVFwiKSByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogXCJNZXRob2QgTm90IEFsbG93ZWRcIiB9KTtcblxuICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCwgY2FwdGNoYVRva2VuLCBwbGFjZU9mQ29uc3VtcHRpb24gfSA9IHJlcS5ib2R5O1xuICBpZiAoIXVzZXJuYW1lIHx8ICFwYXNzd29yZCB8fCAhY2FwdGNoYVRva2VuIHx8ICFwbGFjZU9mQ29uc3VtcHRpb24pIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogXCJNaXNzaW5nIGNyZWRlbnRpYWxzLCBjYXB0Y2hhVG9rZW4sIG9yIHBsYWNlIG9mIGNvbnN1bXB0aW9uXCIgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGZvcm0gPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgZm9ybS5hcHBlbmQoXCJ1c2VybmFtZVwiLCB1c2VybmFtZSk7XG4gICAgZm9ybS5hcHBlbmQoXCJwYXNzd29yZFwiLCBwYXNzd29yZCk7XG4gICAgZm9ybS5hcHBlbmQoXCJnLXJlY2FwdGNoYS1yZXNwb25zZVwiLCBjYXB0Y2hhVG9rZW4pO1xuXG4gICAgY29uc3QgbG9naW5SZXMgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vZ3dzcy5lbmdpZS5yby9teXNlcnZpY2VzL3YxL2xvZ2luXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7IFxuICAgICAgICBcInNvdXJjZVwiOiBcImRlc2t0b3BcIixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIlxuICAgICAgfSxcbiAgICAgIGJvZHk6IGZvcm1cbiAgICB9KTtcblxuICAgIGNvbnN0IGxvZ2luRGF0YSA9IGF3YWl0IGxvZ2luUmVzLmpzb24oKTtcbiAgICBjb25zb2xlLmxvZygnTG9naW4gcmVzcG9uc2U6JywgbG9naW5EYXRhKTtcbiAgICBcbiAgICBpZiAoIWxvZ2luUmVzLm9rIHx8IGxvZ2luRGF0YS5lcnJvcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6IFwiTG9naW4gZmFpbGVkXCIsIGRldGFpbHM6IGxvZ2luRGF0YSwgc3RhdHVzOiBsb2dpblJlcy5zdGF0dXMgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgdG9rZW4gPSBsb2dpbkRhdGEuZGF0YT8udG9rZW47XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiTm8gdG9rZW4gaW4gbG9naW4gcmVzcG9uc2VcIiwgZGV0YWlsczogbG9naW5EYXRhIH0pO1xuICAgIH1cblxuICAgIC8vIEdldCBjb250cmFjdHMgdG8gZmluZCBQT0MgbnVtYmVyIGZvciB0aGUgZ2l2ZW4gYWxpYXNcbiAgICBjb25zdCBjb250cmFjdHNSZXMgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vZ3dzcy5lbmdpZS5yby9teXNlcnZpY2VzL3YxL2NvbnRyYWN0c1wiLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB7IFxuICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgIFwic291cmNlXCI6IFwiZGVza3RvcFwiLFxuICAgICAgICBcIkFjY2VwdFwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiT3JpZ2luXCI6IFwiaHR0cHM6Ly9teS5lbmdpZS5yb1wiLFxuICAgICAgICBcIlJlZmVyZXJcIjogXCJodHRwczovL215LmVuZ2llLnJvL1wiXG4gICAgICB9LFxuICAgICAgcmVkaXJlY3Q6ICdmb2xsb3cnXG4gICAgfSk7XG5cbiAgICBjb25zdCBjb250cmFjdHNEYXRhID0gYXdhaXQgY29udHJhY3RzUmVzLmpzb24oKTtcbiAgICBjb25zb2xlLmxvZygnQ29udHJhY3RzIHJlc3BvbnNlOicsIGNvbnRyYWN0c0RhdGEpO1xuXG4gICAgaWYgKCFjb250cmFjdHNSZXMub2sgfHwgY29udHJhY3RzRGF0YS5lcnJvcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoY29udHJhY3RzUmVzLnN0YXR1cyB8fCA1MDApLmpzb24oeyBcbiAgICAgICAgZXJyb3I6IFwiRmFpbGVkIHRvIGZldGNoIGNvbnRyYWN0c1wiLCBcbiAgICAgICAgZGV0YWlsczogY29udHJhY3RzRGF0YSxcbiAgICAgICAgc3RhdHVzOiBjb250cmFjdHNSZXMuc3RhdHVzIFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gRmluZCB0aGUgY29udHJhY3Qgd2l0aCBtYXRjaGluZyBhbGlhc1xuICAgIGNvbnN0IGNvbnRyYWN0ID0gY29udHJhY3RzRGF0YS5kYXRhPy5maW5kKGMgPT4gYy5hbGlhcyA9PT0gcGxhY2VPZkNvbnN1bXB0aW9uKTtcbiAgICBpZiAoIWNvbnRyYWN0KSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBcbiAgICAgICAgZXJyb3I6IFwiUGxhY2Ugb2YgY29uc3VtcHRpb24gbm90IGZvdW5kXCIsIFxuICAgICAgICBkZXRhaWxzOiBgTm8gY29udHJhY3QgZm91bmQgd2l0aCBhbGlhczogJHtwbGFjZU9mQ29uc3VtcHRpb259YFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcGEgPSBjb250cmFjdC5wYTtcbiAgICBjb25zdCBwb2MgPSBjb250cmFjdC5wb2NfbnVtYmVyO1xuXG4gICAgaWYgKCFwYSB8fCAhcG9jKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBcbiAgICAgICAgZXJyb3I6IFwiTWlzc2luZyByZXF1aXJlZCBkYXRhIGZyb20gY29udHJhY3RcIiwgXG4gICAgICAgIGRhdGE6IHsgaGFzUGE6ICEhcGEsIGhhc1BvYzogISFwb2MgfSxcbiAgICAgICAgZGV0YWlsczogY29udHJhY3RcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSBkYXRlIHJhbmdlOiBsYXN0IDEyIG1vbnRoc1xuICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgc3RhcnREYXRlLnNldEZ1bGxZZWFyKHN0YXJ0RGF0ZS5nZXRGdWxsWWVhcigpIC0gMSk7XG4gICAgXG4gICAgY29uc3QgaW52b2ljZVJlcyA9IGF3YWl0IGZldGNoKGBodHRwczovL2d3c3MuZW5naWUucm8vbXlzZXJ2aWNlcy92MS9pbnZvaWNlcy9oaXN0b3J5LW9ubHkvJHtwb2N9P3N0YXJ0RGF0ZT0ke3N0YXJ0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19JmVuZERhdGU9JHtlbmREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXX0mcGE9JHtwYX1gLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB7IFxuICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgIFwic291cmNlXCI6IFwiZGVza3RvcFwiLFxuICAgICAgICBcIkFjY2VwdFwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiT3JpZ2luXCI6IFwiaHR0cHM6Ly9teS5lbmdpZS5yb1wiLFxuICAgICAgICBcIlJlZmVyZXJcIjogXCJodHRwczovL215LmVuZ2llLnJvL1wiXG4gICAgICB9LFxuICAgICAgcmVkaXJlY3Q6ICdmb2xsb3cnXG4gICAgfSk7XG5cbiAgICBjb25zdCBpbnZvaWNlRGF0YSA9IGF3YWl0IGludm9pY2VSZXMuanNvbigpO1xuICAgIGNvbnNvbGUubG9nKCdJbnZvaWNlIHJlc3BvbnNlOicsIGludm9pY2VEYXRhKTtcblxuICAgIGlmICghaW52b2ljZVJlcy5vayB8fCBpbnZvaWNlRGF0YS5lcnJvcikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoaW52b2ljZVJlcy5zdGF0dXMgfHwgNTAwKS5qc29uKHsgXG4gICAgICAgIGVycm9yOiBcIkZhaWxlZCB0byBmZXRjaCBpbnZvaWNlc1wiLCBcbiAgICAgICAgZGV0YWlsczogaW52b2ljZURhdGEsXG4gICAgICAgIHN0YXR1czogaW52b2ljZVJlcy5zdGF0dXMgXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBQYXNzIHRocm91Z2ggdGhlIGludm9pY2UgZGF0YSBhbmQgdG9rZW5cbiAgICBjb25zdCBmb3JtYXR0ZWREYXRhID0gW3tcbiAgICAgIGludm9pY2VzOiBpbnZvaWNlRGF0YS5kYXRhIHx8IFtdLFxuICAgICAgdG9rZW46IHRva2VuIC8vIEluY2x1ZGUgdGhlIHRva2VuIGZyb20gbG9naW5cbiAgICB9XTtcbiAgICBjb25zb2xlLmxvZygnU2VuZGluZyBpbnZvaWNlIGRhdGEgYW5kIHRva2VuOicsIGZvcm1hdHRlZERhdGEpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZXJyb3I6IGZhbHNlLCBkYXRhOiBmb3JtYXR0ZWREYXRhIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcignQVBJIEVycm9yOicsIGUpO1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN0YWNrOicsIGUuc3RhY2spO1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRldGFpbHM6Jywge1xuICAgICAgbmFtZTogZS5uYW1lLFxuICAgICAgbWVzc2FnZTogZS5tZXNzYWdlLFxuICAgICAgY29kZTogZS5jb2RlLFxuICAgICAgcmVzcG9uc2U6IGUucmVzcG9uc2VcbiAgICB9KTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxuICAgICAgZXJyb3I6IFwiVW5leHBlY3RlZCBlcnJvclwiLCBcbiAgICAgIG1lc3NhZ2U6IGUubWVzc2FnZSxcbiAgICAgIGRldGFpbHM6IGUuc3RhY2tcbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImZldGNoIiwiYXJncyIsInRoZW4iLCJkZWZhdWx0IiwiaGFuZGxlciIsInJlcSIsInJlcyIsInNldEhlYWRlciIsIm1ldGhvZCIsInN0YXR1cyIsImVuZCIsImpzb24iLCJlcnJvciIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJjYXB0Y2hhVG9rZW4iLCJwbGFjZU9mQ29uc3VtcHRpb24iLCJib2R5IiwiZm9ybSIsIlVSTFNlYXJjaFBhcmFtcyIsImFwcGVuZCIsImxvZ2luUmVzIiwiaGVhZGVycyIsImxvZ2luRGF0YSIsImNvbnNvbGUiLCJsb2ciLCJvayIsImRldGFpbHMiLCJ0b2tlbiIsImRhdGEiLCJjb250cmFjdHNSZXMiLCJyZWRpcmVjdCIsImNvbnRyYWN0c0RhdGEiLCJjb250cmFjdCIsImZpbmQiLCJjIiwiYWxpYXMiLCJwYSIsInBvYyIsInBvY19udW1iZXIiLCJoYXNQYSIsImhhc1BvYyIsImVuZERhdGUiLCJEYXRlIiwic3RhcnREYXRlIiwic2V0RnVsbFllYXIiLCJnZXRGdWxsWWVhciIsImludm9pY2VSZXMiLCJ0b0lTT1N0cmluZyIsInNwbGl0IiwiaW52b2ljZURhdGEiLCJmb3JtYXR0ZWREYXRhIiwiaW52b2ljZXMiLCJlIiwic3RhY2siLCJuYW1lIiwibWVzc2FnZSIsImNvZGUiLCJyZXNwb25zZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/login-engie.js\n");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "node-fetch":
/*!*****************************!*\
  !*** external "node-fetch" ***!
  \*****************************/
/***/ ((module) => {

module.exports = import("node-fetch");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Flogin-engie&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Flogin-engie.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();